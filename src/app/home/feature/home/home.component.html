<div class="flex flex-column  md:flex-row justify-content-between gap-4 pt-2">
  <div class="flex flex-column gap-4 md:w-4" *ngIf="user$ | async; let user">
    <div class="flex flex-column  bg-black-alpha-40 border-round p-4">
      <div class="text-2xl mb-4">Hi {{ user?.name }},</div>
      <div class="flex flex-column align-items-start">
        <div class="text-base">This is the total spending for the month of {{ date | date: 'MMMM' }}</div>
        <div class="text-6xl">{{ totalExpenses$ | async | number: '0.0' }}</div>
      </div>
    </div>

    <div class="flex-grow-1 bg-black-alpha-40 border-round p-4">
      <div class="text-xl mb-2">Recent Transactions</div>
      <ng-container *ngIf="recentTransactions$ | async as expenses; else noResult">
        <app-expense-list [items]="expenses" (selected)="editEntry($event)" [hidePagination]="true"></app-expense-list>
      </ng-container>
      <div class="flex justify-content-center pt-2">
        <p-button label="View all transactions" styleClass="p-button-text p-button-info"
          routerLink="/expenses"></p-button>
      </div>
    </div>
  </div>
  <div class="flex flex-column gap-4 flex-grow-1">
    <div class=" flex-grow-1 bg-black-alpha-40 border-round p-4">
      <div class="text-xl mb-4">Summary for the month of {{ date | date: 'MMMM' }}</div>
      <app-summary-main-chart type="line" [aspectRatio]="0.8" [showLegend]="false"
        [chartFilterData]="chartData$ | async"></app-summary-main-chart>
    </div>

    <div class="flex flex-column justify-content-start  flex-grow-1 bg-black-alpha-40 border-round p-3">
      <div class="text-xl mb-4">Total per category</div>
      <app-expense-per-category [items]="(categorizedExpenses$ | async) ?? []"
        [hideTotal]="true"></app-expense-per-category>
    </div>
  </div>
</div>
<ng-template #noResult>
  <div class="mt-4 card flex justify-content-center">
    <span>No result</span>
  </div>
</ng-template>